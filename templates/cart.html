<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="static/CSS/cart-design.css" rel="stylesheet" type="text/css" />
    <!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
    <script>var __adobewebfontsappname__="dreamweaver"</script>
    <script src="http://use.edgefonts.net/montserrat:n4:default;source-sans-pro:n2:default.js"
            type="text/javascript"></script>
    <script src="static/scripts/jquery.js"></script>
    <script>
	$(function(){
	  $("#basic-layout").load("basic-layout.html");
	});
    </script>
    <script>
    function grabImage(id){
        // Check browser support
        console.log("HELLO");
        if (typeof(Storage) !== "undefined") {
            // Retrieve
            var image = localStorage.getItem(id);
            console.log(id);
            document.getElementById(id).src = image;
        }
    }
</script>
    <script>
        function changeID(id){
            document.getElementById("final_image").id = id;
            console.log(document.getElementById(id).id);
        }
    </script>
</head>
<body>
<div id="basic-layout"></div>
<div class="column_total">Total</div>
<div class="column_remove">Remove</div>
<div class="column_quantity">Quantity</div>
<div class="column_price">Price</div>
<h1>Shopping Cart</h1>


<div id="line"></div>

{%for i in range(0, product_len)%}
<div class="shopping-cart">
    <div class="product">
        <div class="product-image">
            <img id="final_image" class="placeholder" src="data:image/png;base64,{{product[i]['image'].decode('utf-8')}}" height="100" width="100">
        </div>
        <script>changeID({{product[i]['Product_id']}});</script>
        <script>grabImage({{product[i]['Product_id']}});</script>
        <div class="product-details">
            <div class="product-title"><b>{{product[i]['title']}}</b></div>
            <p class="product-description">{{product[i]['description']}}</p>
        </div>
        <div class="product-price">${{product[i]['price']}}</div>
        <div class="product-quantity">{{product[i]['quantity']}}</div>
        <div class="delete"><button class="deleteButton">-</button></div>
        <div class="product-line-price">${{product[i]['price']}}</div>
  </div>
</div>
{%endfor%}

<div class="totals">
    <div class="totals-item">
        <label>Subtotal</label>
        <div class="totals-value" id="cart-subtotal">$71.97</div>
    </div>
    <div class="totals-item">
        <label>Shipping</label>
        <div class="totals-value" id="cart-shipping">$5.00</div>
    </div>
    <div class="totals-item totals-item-total">
        <label>Grand Total</label>
        <div class="totals-value" id="cart-total">$90.57</div>
    </div>
</div>
</body>
</html>