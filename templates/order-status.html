<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Simple Theme</title>
    <link href="static/CSS/product-details.css" rel="stylesheet" type="text/css">
    <link href="/static/CSS/basic-layout.css" rel="stylesheet" type="text/css">
    <link href="/static/CSS/orderstatus.css" rel="stylesheet" type="text/css">
    <script>var __adobewebfontsappname__="dreamweaver"</script>
    <script src="http://use.edgefonts.net/montserrat:n4:default;source-sans-pro:n2:default.js"
            type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        function openPage(pageURL)
            {
            window.location.href = pageURL;
            }
    </script>
    <script>
    $(function(){
      $("#basic-layout").load("basic-layout.html");
    });

    </script>
    </script>

<script>
function selectvalue()
{
    var option = document.getElementById("dropdown").value;
    console.log(option);
    document.getElementById("message").innerHTML = "Order status changed!";
    $.ajax({
                    url : '/orderstatus/update?order_id=' + {{orders['ID']}} + '&status=' + option,
                    success: function(data) {
                        document.getElementById("order_state").innerHTML = data['status']
                    }
                });
}
</script>
</head>

<body>
<div id="basic-layout"></div>
<section>
    <h2 class="noDisplay">Main Content</h2>
    <aside class="left_article"><img alt="" class="placeholder" height="200" id="product_image"
                                     src="{{orders['image'].decode('utf-8')}}"
                                     width="400"/>
                                     <div class="warning" style="color:red;font-family:Roboto;font-size:14px;">* The picture shown here is for illustration purpose only. 
                                     Actual product may vary due to product enhancement.</div>
                                     </aside>
    <article class="right_article">
            <table class="order-details">
                <tr> 
                    <td>Product Title</td>
                        <td>{{product['title']}}</td>
                    </tr>
                    <tr> 
                    <td>Product Description</td>
                        <td>{{product['description']}}</td>
                    </tr>
                    <tr> 
                    <td>Product Price</td>
                        <td>{{orders['total_cost']}}</td>
                    </tr>
                <tr> 
                    <td>Wood Type</td>
                        <td><input class="wood_type" name="wood_type" type="radio" value={{wood_type['ID']}} required/>
                <img alt={{wood_type['name']}}/
                     src="data:image/png;base64,{{wood_type['image'].decode('utf-8')}}">
                            </td>
                    </tr>
                    <tr> 
                    <td>Wood Engraving</td>
                        <td><input class="design_type" name="design_type" type="radio" value={{wood_design['ID']}}/>
                <img alt={{wood_design['name']}}/
                     src="data:image/png;base64,{{wood_design['image'].decode('utf-8')}}">
                            </td>
                    </tr>
                <tr> 
                    <td>Order Id</td>
                        <td>{{orders['Order_Id']}}
                            </td>
                    </tr>
                    <tr> 
                    <td>Order Date
                        </td>
                        <td>{{orders['order_date']}}
                            </td>
                    </tr>
                    <tr> 
                    <td>Current State</td>
                        <td id="order_state">{{orders['state']}}</td>
                    </tr>
                </table>
<select id="dropdown" class="drop" onchange=selectvalue()>
  <option selected disabled hidden>Change Order Status</option>
  <option class="optionitem" value="Recieved">Order Received</option>
  <option class="optionitem" value="OrderWood">Order Wood</option>
  <option class="optionitem" value="CutWood">Cut Wood</option>
  <option class="optionitem" value="Engaved">Engaved Wood</option>
  <option class="optionitem" value="Finish">Finished</option>
  <option class="optionitem" value="Ship">Ship Order</option>
  
</select><div id="message"></div>
    </article>
</section>
</body>
</html>